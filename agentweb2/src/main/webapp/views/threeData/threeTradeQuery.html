<!-- 导航URL -->
<div class="row wrapper border-bottom white-bg page-heading">
	<div class="col-md-12">
		<ol class="breadcrumb">
			<li><a href="#/service/addService">主页</a></li>
			<li><a>三方数据查询</a></li>
			<li class="active"><strong>交易查询</strong></li>
		</ol>
	</div>
</div>
<!-- 主要内容 -->
<div class="wrapper wrapper-content animated fadeIn" ng-app ng-controller="threeQueryTradeCtrl">
	<form class="form-horizontal" id="form1">
			<div class="row">
				<div class="col-lg-12">
					<div class="">
						<div class="ibox float-e-margins">
							<div class="ibox-title">
								<h5>交易信息多条列表查询</h5>
								<!--<div ibox-tools></div>-->
							</div>
							
							<div class="ibox-content">
								
								<div class="form-group">
									<label class="col-sm-2 control-label">商户编号：</label>
									<div class="col-sm-2">
										<input type="text" class="form-control" ng-model="info.merchantNo">
									</div>
									<label class="col-sm-2 control-label">代理商名称：</label>
									<div class="col-sm-2">
										<select chosen="{width:'100%'}" class="chosen-select form-control" tabindex="5" ng-model="info.agentNo" ng-options="x.value as x.text for x in agent" ng-change="changeMerGroups(info.agentNo)">
							             </select>
									</div>
									<label class="col-sm-2 control-label">包含下级：</label>
									<div class="col-sm-2">
										<select class="form-control" ng-disabled="dtr" ng-model="info.bool"  ng-options="x.value as x.text for x in bools">
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">商户手机号：</label>
									<div class="col-sm-2">
										<input type="text" class="form-control" ng-model="info.mobilephone">
									</div>
									<label class="col-sm-2 control-label">结算状态：</label>
									<div class="col-sm-2">
										<select class="form-control" ng-model="info.settleStatus" ng-options="x.value as x.text for x in settleStatusAll"/>
									</div>
									<!--<label class="col-sm-2 control-label">硬件产品种类：</label>-->
									<!--<div class="col-sm-2">-->
										<!--<select class="form-control" ng-model="info.terType"  ng-options="x.hpId as x.typeName for x in termianlTypes">-->
										<!--</select>-->
									<!--</div>-->
									<label class="col-sm-2 control-label">交易方式：</label>
									<div class="col-sm-2">
										<select class="form-control" ng-model="info.payMethod"  ng-options="x.value as x.text for x in payMethods">
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">结算周期：</label>
									<div class="col-sm-2">
										<select class="form-control" ng-model="info.settlementMethod"  ng-options="x.value as x.text for x in settlementMethods">
										</select>
									</div>
									<label class="col-sm-2 control-label">交易状态：</label>
									<div class="col-sm-2">
										<select class="form-control" ng-model="info.transStatus" ng-options="x.value as x.text for x in tradeStatus">
										</select>
									</div>
									<label class="col-sm-2 control-label">交易卡号：</label>
									<div class="col-sm-2">
										<input type="text" class="form-control" ng-model="info.accountNo">
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">订单号：</label>
									<div class="col-sm-2">
										<input type="text" class="form-control" ng-model="info.orderNo">
									</div>
									<label class="col-sm-2 control-label">机具活动类型：</label>
									<div class="col-sm-2">
										<select class="form-control" ng-model="info.activityType" ng-options="x.value as x.text for x in activityTypes"/>
									</div>
									
									<label class="col-sm-2 control-label">商户组织：</label>
									<div class="col-sm-2" ng-show="!showSelect">
										<select chosen="{width:'100%'}" class="chosen-select form-control"  ng-model="info.merTeamId" ng-change="getTeamEntryIdList()"
												ng-options="x.value as x.text for x in merTeams">
											<option value=""></option>
										</select>
									</div>
									<div class="col-sm-2 checkbox" ng-show="showSelect"><p ng-bind="info.merTeamId | formatDropping:merTeams"></p></div>
								</div>
								
								<div class="form-group">
									<label class="col-sm-2 control-label">交易时间：</label>
<!-- 									<div class="col-sm-6"> -->
<!-- 										<input type="datetime" style="width:auto;display:inline-block;" ng-model="info.sdate" class="form-control" date-time view="date" format="YYYY-MM-DD HH:mm:ss""> -->
<!-- 										~ -->
<!-- 										<div style="position: relative; display: inline-block"><input type="datetime" ng-model="info.edate" class="form-control" style="width:auto;display:inline-block;" date-time view="date" format="YYYY-MM-DD HH:mm:ss"></div> -->
<!-- 									<input id="d5221" class="form-control" type="datetime" ng-model="info.sdate" onchange=""  style="width:auto;display:inline-block;" -->
<!-- 									onFocus="var d5222=$dp.$('d5222');WdatePicker({skin:'whyGreen',dateFmt: 'yyyy-MM-dd HH:mm:ss',onpicked:function(){d5222.focus();},maxDate:'#F{$dp.$D(\'d5222\')}'})"/> -->
<!-- 									~ -->
<!-- 									<input id="d5222" class="form-control" type="datetime"  ng-model="info.edate" onchange=""  style="width:auto;display:inline-block;" -->
<!-- 									onFocus="WdatePicker({skin:'whyGreen',dateFmt: 'yyyy-MM-dd HH:mm:ss',minDate:'#F{$dp.$D(\'d5221\')}'})"/> -->
<!-- 									<br/><span><font color="#999">备注：查询范围不能超过三个月</font></span> -->
<!-- 									</div> -->
									<div class="col-sm-6">
									<input id="d5221" class="form-control" type="datetime" ng-model="info.sdate" onchange=""  style="width:auto;display:inline-block;"
										   onFocus="var d5222=$dp.$('d5222');WdatePicker({skin:'whyGreen',dateFmt:'yyyy-MM-dd HH:mm:ss',changed:verifyTime(1,'#d5221','#d5222',93,isVerifyTime),onpicked:function(){d5222.focus();},maxDate:'#F{$dp.$D(\'d5222\')||\'%y-%M-%d\'}'})"/>
									~
									<input id="d5222" class="form-control" type="datetime"  ng-model="info.edate" onchange=""  style="width:auto;display:inline-block;"
										   onFocus="WdatePicker({skin:'whyGreen',dateFmt: 'yyyy-MM-dd HH:mm:ss',changed:verifyTime(2,'#d5221','#d5222',93,isVerifyTime),minDate:'#F{$dp.$D(\'d5221\')}',maxDate:'%y-%M-%d 23:59:59'})"/>
									<br/><span><font color="#999">备注：查询范围不能超过三个月</font></span>
								</div>
									
									<!--<label class="col-sm-2 control-label">是否为微创业：</label>-->
									<!--<div class="col-sm-2">-->
										<!--<select class="form-control" ng-model="info.recommendedSource" ng-options="x.value as x.text for x in bool"/>-->
									<!--</div>-->
									<label class="col-sm-2 control-label">活动类型：</label>
									<div class="col-sm-2">
										<select class="form-control" ng-model="info.orderType" ng-options="x.value as x.text for x in orderTypes">
											<option value="">全部</option>
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">商户创建时间：</label>
									<div class="col-sm-6">
										<input id="d5223" class="form-control" type="datetime" ng-model="info.startCreateTime" onchange=""  style="width:auto;display:inline-block;"
										onFocus="var d5224=$dp.$('d5224');WdatePicker({skin:'whyGreen',dateFmt: 'yyyy-MM-dd HH:mm:ss',onpicked:function(){d5224.focus();},maxDate:'#F{$dp.$D(\'d5224\')}'})"/>
										~
										<input id="d5224" class="form-control" type="datetime"  ng-model="info.endCreateTime" onchange=""  style="width:auto;display:inline-block;"
										onFocus="WdatePicker({skin:'whyGreen',dateFmt: 'yyyy-MM-dd HH:mm:ss',minDate:'#F{$dp.$D(\'d5223\')}'})"/>
									</div>
									<label class="col-sm-2 control-label">收款类型：</label>
									<div class="col-sm-2">
										<select class="form-control" ng-model="info.serviceType" ng-options="x.value as x.text for x in serviceTypes">
										</select>
									</div>
									<!--<label class="col-sm-2 control-label">是否使用鼓励金：</label>-->
									<!--<div class="col-sm-2">-->
										<!--<select class="form-control" ng-model="info.deductionFee">-->
											<!--<option value="">全部</option>-->
											<!--<option value="1">是</option>-->
											<!--<option value="0">否</option>-->
										<!--</select>-->
									<!--</div>-->
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">交易金额：</label>
									<div class="col-sm-6">
										<input type="text" class="form-control" style="width:auto;display:inline-block;" ng-model="info.minTransAmount">-
										<input type="text" class="form-control" style="width:auto;display:inline-block;" ng-model="info.maxTransAmount">
									</div>
									<label class="col-sm-2 control-label">商户子组织：</label>
									<div class="col-sm-2" ng-show="!showSelect">
										<select chosen="{width:'100%'}" class="chosen-select form-control"  ng-model="info.teamEntryId"
												ng-options="x.value as x.text for x in teamEntryIdList">
											<option value=""></option>
										</select>
									</div>
								</div>
								
								<div class="form-group">
									<div class="col-lg-12">
										<div class="col-sm-1"></div>
										<button class="btn btn-primary6 btn-mr20" type="button"
										 id="btnSubmit" ng-click="query()">查询</button>
										 <button class="btn btn-primary3 btn-mr20" type="button" ng-click="clear()"
										id="btnSubmit2">清空</button>
										<!--  <button class="btn btn-primary7" type="button"
										 id="btnSubmit" ng-click="exportInfo()">导出</button> -->
									</div>
								</div>
								
							</div>
						</div>


						<div class="ibox float-e-margins">
							<div class="ibox-title">
								<h5>交易信息列表</h5>
							</div>
							<div class="ibox-content">
								<div class="form-group">
									<label class="col-sm-1 control-label">汇总</label>
									<div class="col-sm-2 checkbox">笔数：<span ng-bind="znum"></span></div>
									<div class="col-sm-2 checkbox">金额：<span ng-bind="zmoney | currency:''"></span>元</div>
								</div>
								
								<div class="form-group">
									 <div ui-grid="gridOptions" ui-grid-pagination ui-grid-selection ui-grid-resize-columns class="grid"></div>
								</div>
							</div>
							
						</div>
						<div style="height: 50px"></div>
					</div>
				</div>
			</div>
	</form>

</div>