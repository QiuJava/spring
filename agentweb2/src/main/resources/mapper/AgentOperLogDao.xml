<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.eeepay.framework.dao.AgentOperLogDao" >

    <insert id="insertLog" parameterType="cn.eeepay.framework.model.AgentOperLogBean">
        INSERT INTO agent_oper_log(
            agent_no,
            agent_name,
            request_method,
            method_desc,
            request_params,
            return_result,
            oper_ip
        )VALUES(
            #{bean.agentNo},
            #{bean.agentName},
            #{bean.requestMethod},
            #{bean.methodDesc},
            #{bean.requsetParams},
            #{bean.returnResult},
            #{bean.operIp}
        )
    </insert>

    <select id="getAgentOperLogById" resultType="cn.eeepay.framework.model.AgentOperLogBean">
        SELECT
            id,
            agent_no,
            agent_name,
            request_method,
            method_desc,
            request_params,
            return_result,
            oper_ip,
            oper_time
        FROM agent_oper_log
        WHERE id = #{id}
    </select>

    <select id="agentOperLogDao" resultType="cn.eeepay.framework.model.AgentOperLogBean">
        SELECT
            id,
            agent_no,
            agent_name,
            request_method,
            method_desc,
            request_params,
            return_result,
            oper_ip,
            oper_time
        FROM agent_oper_log
        <if test="bean != null">
            <where>
                <if test="bean,id != null and bean,id != ''">
                    id = #{bean.id}
                </if>
                <if test="bean,agentNo != null and bean.agentNo != ''">
                    AND agent_no = #{bean.agentNo}
                </if>
                <if test="bean,agentName != null and bean.agentName != ''">
                    AND agent_name = #{bean.agentName}
                </if>
                <if test="bean,operIp != null and bean.operIp != ''">
                    AND oper_ip = #{bean.operIp}
                </if>
            </where>
        </if>
    </select>

</mapper>